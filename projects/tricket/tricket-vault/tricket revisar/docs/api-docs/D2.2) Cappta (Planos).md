---
id: 1c4LVV4-4pD066NcBtggc0x7eWDjsnENJ1ns4f-Vz66M
status: 
version: 1
source: NotebookLM
type: task
action: create
space: Projetos
folder: Tricket
list: Marketplace
parent_id: 
created: 2025-07-08 09:04
due_date: ""
start_date: 
tags:
  - projetos/tricket
summary: 
path: /home/joaohenrique/Obsidian/01-PROJETOS/tricket-revisar
---



### POSTCriar Plano

https://{base_url}/plan

**Este**Â _**endpoint**_Â **Ã© utilizado para cadastrar os planos que deverÃ£o estar associados a cada estabelecimento comercial. Portanto,**Â **Ã© necessÃ¡rio especificar todas as taxas por bandeira. Cada bandeira tem suas prÃ³prias taxas e, ao inserir as taxas, estas serÃ£o utilizadas como parÃ¢metros de comparaÃ§Ã£o para validaÃ§Ã£o.**

**InformaÃ§Ãµes importantes:**

- O nome do plano deve ser Ãºnico;
    
- Todo novo plano precisa de um plano base (que jÃ¡ estÃ¡ cadastrado e pode ser consultado);
    
- Os planos bases (divididos por produto e prazo de antecipaÃ§Ã£o) sÃ£o gerados no seu cadastro e podem ser acessados peloÂ _endpoint_Â de consulta;
    
- O produto e o prazo de antecipaÃ§Ã£o devem ser especificados, caso sejam divergentes do plano base, um erro serÃ¡ apresentado;
    
- O campoÂ `'schemes'`representa um arranjo de pagamento (Tipo de pagamento + Bandeira) e o Id de cada um deles sÃ£o fornecidos peloÂ _endpoint_Â **OPTIONS**;
    
- Todas as taxas por bandeiras devem ser informadas. Na ausÃªncia de alguma, um erro serÃ¡ apresentado;
    
- As taxas sÃ£o do tipoÂ _decimal_, ou seja, Ã© possÃ­vel informar por exemplo: 1.90(1.90%) ou 2(2%);
    
- (deprecated) O plano base Ã© consultado automaticamente no cadastro.Â ~~Para criar uma tabela para do tipo Merchant, Ã© necessÃ¡rio criar uma do tipo Reseller antes e utilizÃ¡-la como base 'basePlanId';~~
    
- Incluir todos os parÃ¢metros obrigatÃ³rios que compÃµem o corpo dessa requisiÃ§Ã£o (_Request Body_), conforme observado no exemplo ao lado;
    
- Incluir tambÃ©m os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer,_Â '`accept'`com o valorÂ `application/json`Â eÂ `'content-type'`Â com o valorÂ `application/json;`
    

ðŸš§Â **Plano base:**Â Para preencher o campoÂ `'basePlanId'`Â basta consultar os planos e pegar oÂ `Id`Â do plano cadastrado com o valorÂ `'Partner'`Â do campoÂ `'type'.`

A resposta da requisiÃ§Ã£o retornarÃ¡ o id do plano criado indicando que a operaÃ§Ã£o de cadastro foi realizada com sucesso. Ou em caso de falha, o erro ocorrido.

#### Example Request
``` JSON
curl --location -g 'https://{base_url}/plan' \
--data '{
    "Name": "Teste EC 1.0", // (string)[required] Nome do plano
    "product": "POS", // (string)[required] produto associado ao plano
    "type": "Merchant", // (string)[required] Reseller|Merchant 
    "basePlanId": 88888, // (string)[required] Identificador Ãºnico do plano base
    "settlementDays": 1, // (string)[required] Dias de liquidaÃ§Ã£o
    "schemes": [  // arranjo de pagamento (Tipo de pagamento + Bandeira) - id obtido pelo endpoint OPTIONS
        {
            "id": 1,
            "fees": [ // taxas
                {
                    "installments": 1,
                    "rate": 1.9
                }
            ]
        },
        {
            "id": 2,
            "fees": [
                {
                    "installments": 1,
                    "rate": 1.9
                }
            ]
        },
        {
            "id": 4,
            "fees": [
                {
                    "installments": 1,
                    "rate": 1.9
                }
            ]
        },
        {
            "id": 6,
            "fees": [
                {
                    "installments": 1,
                    "rate": 5
                },
                {
                    "installments": 2,
                    "rate": 6
                },
                {
                    "installments": 3,
                    "rate": 7
                },
                {
                    "installments": 4,
                    "rate": 8
                },
                {
                    "installments": 5,
                    "rate": 9
                },
                {
                    "installments": 6,
                    "rate": 10
                },
                {
                    "installments": 7,
                    "rate": 11
                },
                {
                    "installments": 8,
                    "rate": 12
                },
                {
                    "installments": 9,
                    "rate": 13
                },
                {
                    "installments": 10,
                    "rate": 14
                },
                {
                    "installments": 11,
                    "rate": 15
                },
                {
                    "installments": 12,
                    "rate": 16
                },
                {
                    "installments": 13,
                    "rate": 17
                },
                {
                    "installments": 14,
                    "rate": 18
                },
                {
                    "installments": 15,
                    "rate": 19
                },
                {
                    "installments": 16,
                    "rate": 20
                },
                {
                    "installments": 17,
                    "rate": 21
                },
                {
                    "installments": 18,
                    "rate": 22
                }
            ]
        },
        {
            "id": 7,
            "fees": [
                {
                    "installments": 1,
                    "rate": 4
                },
                {
                    "installments": 2,
                    "rate": 5
                },
                {
                    "installments": 3,
                    "rate": 6
                },
                {
                    "installments": 4,
                    "rate": 7
                },
                {
                    "installments": 5,
                    "rate": 8
                },
                {
                    "installments": 6,
                    "rate": 9
                },
                {
                    "installments": 7,
                    "rate": 10
                },
                {
                    "installments": 8,
                    "rate": 11
                },
                {
                    "installments": 9,
                    "rate": 12
                },
                {
                    "installments": 10,
                    "rate": 13
                },
                {
                    "installments": 11,
                    "rate": 13
                },
                {
                    "installments": 12,
                    "rate": 14
                },
                {
                    "installments": 13,
                    "rate": 15
                },
                {
                    "installments": 14,
                    "rate": 16
                },
                {
                    "installments": 15,
                    "rate": 17
                },
                {
                    "installments": 16,
                    "rate": 18
                },
                {
                    "installments": 17,
                    "rate": 19
                },
                {
                    "installments": 18,
                    "rate": 20
                }
            ]
        },
        {
            "id": 8,
            "fees": [
                {
                    "installments": 1,
                    "rate": 4
                },
                {
                    "installments": 2,
                    "rate": 6
                },
                {
                    "installments": 3,
                    "rate": 7
                },
                {
                    "installments": 4,
                    "rate": 8
                },
                {
                    "installments": 5,
                    "rate": 8
                },
                {
                    "installments": 6,
                    "rate": 9
                },
                {
                    "installments": 7,
                    "rate": 10
                },
                {
                    "installments": 8,
                    "rate": 11
                },
                {
                    "installments": 9,
                    "rate": 12
                },
                {
                    "installments": 10,
                    "rate": 13
                },
                {
                    "installments": 11,
                    "rate": 14
                },
                {
                    "installments": 12,
                    "rate": 15
                },
                {
                    "installments": 13,
                    "rate": 16
                },
                {
                    "installments": 14,
                    "rate": 17
                },
                {
                    "installments": 15,
                    "rate": 18
                },
                {
                    "installments": 16,
                    "rate": 19
                },
                {
                    "installments": 17,
                    "rate": 20
                },
                {
                    "installments": 18,
                    "rate": 21
                }
            ]
        },
        {
            "id": 9,
            "fees": [
                {
                    "installments": 1,
                    "rate": 4
                },
                {
                    "installments": 2,
                    "rate": 6
                },
                {
                    "installments": 3,
                    "rate": 7
                },
                {
                    "installments": 4,
                    "rate": 7
                },
                {
                    "installments": 5,
                    "rate": 8
                },
                {
                    "installments": 6,
                    "rate": 9
                },
                {
                    "installments": 7,
                    "rate": 10
                },
                {
                    "installments": 8,
                    "rate": 11
                },
                {
                    "installments": 9,
                    "rate": 12
                },
                {
                    "installments": 10,
                    "rate": 13
                },
                {
                    "installments": 11,
                    "rate": 14
                },
                {
                    "installments": 12,
                    "rate": 15
                },
                {
                    "installments": 13,
                    "rate": 16
                },
                {
                    "installments": 14,
                    "rate": 17
                },
                {
                    "installments": 15,
                    "rate": 18
                },
                {
                    "installments": 16,
                    "rate": 19
                },
                {
                    "installments": 17,
                    "rate": 20
                },
                {
                    "installments": 18,
                    "rate": 21
                }
            ]
        },
        {
            "id": 10,
            "fees": [
                {
                    "installments": 1,
                    "rate": 5
                },
                {
                    "installments": 2,
                    "rate": 6
                },
                {
                    "installments": 3,
                    "rate": 7
                },
                {
                    "installments": 4,
                    "rate": 7
                },
                {
                    "installments": 5,
                    "rate": 8
                },
                {
                    "installments": 6,
                    "rate": 9
                },
                {
                    "installments": 7,
                    "rate": 10
                },
                {
                    "installments": 8,
                    "rate": 11
                },
                {
                    "installments": 9,
                    "rate": 12
                },
                {
                    "installments": 10,
                    "rate": 13
                },
                {
                    "installments": 11,
                    "rate": 14
                },
                {
                    "installments": 12,
                    "rate": 15
                },
                {
                    "installments": 13,
                    "rate": 16
                },
                {
                    "installments": 14,
                    "rate": 17
                },
                {
                    "installments": 15,
                    "rate": 18
                },
                {
                    "installments": 16,
                    "rate": 19
                },
                {
                    "installments": 17,
                    "rate": 20
                },
                {
                    "installments": 18,
                    "rate": 21
                }
            ]
        },
        {
            "id": 5,
            "fees": [
                {
                    "installments": 1,
                    "rate": 6
                }
            ]
        }
    ]
}'
```
#### Example Reponse
``` JSON
{
  "id": 97900
}
```


### PUTAtualizar Plano

https://{base_url}/plan/{id}

**Este**Â _**endpoint**_Â **Ã© utilizado para efetuar modificaÃ§Ãµes especÃ­ficas nos detalhes de um plano. As Ãºnicas propriedades suscetÃ­veis a alteraÃ§Ãµes sÃ£o o nome do plano e as taxas associadas.**

- Essa requisiÃ§Ã£o possui como parÃ¢metro de caminho (_Path Param_) oÂ `'{id}'`do plano que deve ser atualizado - obrigatÃ³rio;
    
- Deve-se incluir todos os parÃ¢metros obrigatÃ³rios que compÃµem o corpo dessa requisiÃ§Ã£o (_Request Body_):
    
    - `'name'`,Â `'basePlanId'`,Â `'settlementDays'`,Â `'type'`Â ,Â `'product'`Â - obrigatÃ³rios;
        
    - `'schemes'`Â (_array_Â de objetos) - obrigatÃ³rio:
        
        - `'id'`Â ,Â `'fees'`Â ;
        
    
- Incluir tambÃ©m os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer,_Â '`accept'`com o valorÂ `application/json`Â eÂ `'content-type'`Â com o valorÂ `application/json;`
    

A resposta da requisiÃ§Ã£o serÃ¡ uma mensagem indicando que a operaÃ§Ã£o de atualizaÃ§Ã£o foi realizada com sucesso. OU em caso de falha, o erro ocorrido.
#### Example Request
``` JSON
curl --location -g --request PUT 'https://{base_url}/plan/{id}' \
--data '{
    "Name": "Teste EC 1.0 Alterado", // (string)[required] Nome do plano
    "product": "POS", // (string)[required] produto associado ao plano
    "type": "Merchant", // (string)[required] Reseller|Merchant
    "basePlanId": 88888, // (string)[required] Identificador Ãºnico do plano base
    "settlementDays": 30, // (string)[required] Dias de liquidaÃ§Ã£o
    "schemes": [ // arranjo de pagamento (Tipo de pagamento + Bandeira) - id obtido pelo endpoint OPTIONS
        
    ]
}'
```
#### Example Reponse
``` JSON
""
```

### GETListar Planos

https://{base_url}/plan?totalPage

**Este**Â _**endpoint**_Â **permite consultar a lista de planos disponÃ­veis no sistema, com diversas opÃ§Ãµes de filtragem.**

- Essa requisiÃ§Ã£o possui como parÃ¢metro de consulta (_Query Params_) os seguintes valores:
    
    - `'type'`Â - Tipo de plano -Â `'Scheme'`|`'Partner'`|`'Reseller'`|`'Merchant'`- opcional;
        
    - `'product'`- Produto associado ao plano - opcional;
        
    - `'name'`Â - Nome do plano - opcional;
        
    - `'withFees'`Â - OpÃ§Ã£o para trazer as taxas associadas ao plano - opcional;
        
    - `'pageId'`- NÃºmero da pÃ¡gina de resultados a ser retornada - obrigatÃ³rio;
        
    - `'resellerDocument'`- Documento do revendedor. Este parÃ¢metro Ã© opcional;
        
    - `'totalPage'`- Total de itens, por pÃ¡gina, que serÃ£o retornados;
        
    
- Incluir os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer_Â e '`accept'`com o valorÂ `application/json`Â ;
    

A resposta da requisiÃ§Ã£o serÃ¡ um JSON com umÂ _array_Â de objetos contendo cada plano disponÃ­vel e seus detalhes. Ou em caso de falha, o erro ocorrido.

#### Example Request
``` JSON
curl --location -g 'https://{base_url}/plan'
```
#### Example Reponse
``` JSON
{
  "actualPage": "1",
  "lastPage": 1,
  "plans": [
    {
      "id": 1,
      "partnerDocument": "{{partnerDocument}}",
      "resellerDocument": "{resellerDocument}",
      "basePlanId": 123,
      "settlementDays": 30,
      "type": "Merchant",
      "product": "POS",
      "name": "Teste EC 1.0 Alterado"
    },
    {
      "id": 2,
      "partnerDocument": "{{partnerDocument}}",
      "resellerDocument": "{resellerDocument}",
      "basePlanId": 123,
      "settlementDays": 1,
      "type": "Merchant",
      "product": "POS",
      "name": "VIP 030G"
    }
  ]
}
```

### GETConsultar Plano

https://{base_url}/plan/{id}

**Este**Â _**endpoint**_Â **permite consultar os detalhes de um plano especÃ­fico a partir de seu identificador Ãºnico.**

- Essa requisiÃ§Ã£o possui como parÃ¢metro de caminho (_Path Param_) oÂ `'{id}'`do plano que deve ser consultado - obrigatÃ³rio;
    
- Incluir os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer_Â e '`accept'`com o valorÂ `application/json`Â ;
    

A resposta da requisiÃ§Ã£o serÃ¡ um JSON com o plano disponÃ­vel e seus detalhes. Ou em caso de falha, o erro ocorrido.
#### Example Request
``` JSON
curl --location -g 'https://{base_url}/plan/{id}'
```
#### Example Reponse
``` JSON
{
  "id": 1,
  "partnerDocument": "{{partnerDocument}}",
  "resellerDocument": "{resellerDocument}",
  "basePlanId": 123,
  "settlementDays": 30,
  "type": "Merchant",
  "product": "POS",
  "name": "Teste EC 1.0 Alterado",
  "planSchemes": []
}
```

### PATCHAssociar Plano

https://{base_url}/plan/{id}/associate

**Este**Â _**endpoint**_Â **Ã© utilizado para associar um plano a um lojista usando os documentos do mesmo e do revendedor. AlÃ©m do ID do plano a ser associado.**

- Essa requisiÃ§Ã£o possui como parÃ¢metro de caminho (_Path Param_) oÂ `'{id}'`do plano que deve ser associado - obrigatÃ³rio;
    
- E possui como parÃ¢metros que compÃµem o corpo da requisiÃ§Ã£o (_Request Body_), os valores:
    
    - `'resellerDocument'`Â - documento do revendedor associado ao lojista - obrigatÃ³rio;
        
    - `'merchantDocument'`- documento do lojista ao qual o plano serÃ¡ vinculado - obrigatÃ³rio;
        
    
- Incluir os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer_Â e '`accept'`com o valorÂ `application/json`Â ;
    

A resposta da requisiÃ§Ã£o retorna oÂ `'Id'`Â da associaÃ§Ã£o realizada. Ou em caso de falha, o erro ocorrido.
#### Example Request
``` JSON
curl --location -g --request PATCH 'https://{base_url}/plan/{id}/associate' \
--data '{
    "resellerDocument": "46946632000143", // (string)[required] Documento do Revendedor
    "merchantDocument": "63314931000184" // (string)[required] Documento do Lojista
}'
```
#### Example Reponse
``` JSON
97900
```

### PATCHDesassociar Plano

https://{base_url}/plan/{id}/disassociate

**Este**Â _**endpoint**_Â **Ã© utilizado para desassociar um plano e de um lojista pertencente a um revendedor, usando os documentos dos mesmos e o**Â **`'Id'`**Â **do plano a ser desassociado.**

- Essa requisiÃ§Ã£o possui como parÃ¢metro de caminho (_Path Param_) oÂ `'{id}'`do plano que deve ser desassociado - obrigatÃ³rio;
    
- E possui como parÃ¢metros que compÃµem o corpo da requisiÃ§Ã£o (_Request Body_), os valores:
    
    - `'resellerDocument'`Â - documento do revendedor ao qual o lojista estÃ¡ associado - obrigatÃ³rio;
        
    - `'merchantDocument'`- documento do lojista ao qual o plano deve ser desassociado - obrigatÃ³rio;
        
    
- Incluir os cabeÃ§alhosÂ `'Authorization'`no formatoÂ _Bearer_Â e '`accept'`com o valorÂ `'text/plain'`;
    

A resposta da requisiÃ§Ã£o serÃ¡ uma mensagem indicando que a operaÃ§Ã£o foi realizada com sucesso. Ou em caso de falha, o erro ocorrido.

#### Example Request
``` JSON
curl --location -g --request PATCH 'https://{base_url}/plan/{id}/disassociate' \
--data '{
    "resellerDocument": "46946632000143", // (string)[required] Documento do Revendedor
    "merchantDocument": "63314931000184" // (string)[required] Documento do Lojista
}'
```
#### Example Reponse
``` JSON
""
```

