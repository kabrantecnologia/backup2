---
source: Clickup
type: task
id: 86a9jh8a0
action: create
space: Projetos
folder: Tricket
list: Dev. Marketplace
parent_id: 86a9jh84n
due_date: ""
created: 2025-06-18
path: /home/joaohenrique/Obsidian/01-PROJETOS/tricket-revisar/Revisar
---
# Mensagem para o Cliente

Finalizei o processo de onboarding de acordo com alteraÃ§Ã£o que vocÃªs pediram.

Foi preciso reconstruir o banco de dados, pois a estrutura de usuÃ¡rios Ã© a base do sistema e afeta todas as outras tabelas. Implementei um novo esquema, mais robusto e flexÃ­vel, para acomodar diferentes perfis de usuÃ¡rio.

Principais mudanÃ§as na estrutura de usuÃ¡rios:

- UsuÃ¡rios podem pertencer a mÃºltiplas empresas.
- Empresas podem ter mÃºltiplos usuÃ¡rios.

Novos perfis de usuÃ¡rio:

**Pessoa FÃ­sica:**

- **Consumidor:** (Requer aprovaÃ§Ã£o do admin; possui conta Asaas)
- **Colaborador:** (Sem conta Asaas; atua como colaborador de empresa â€“ comerciante ou fornecedor)

**Pessoa JurÃ­dica:**

- **Consumidor PJ:** (Requer aprovaÃ§Ã£o do admin; possui conta Asaas)
- **Fornecedor:** (Requer aprovaÃ§Ã£o do admin; possui conta Asaas)
- **Comerciante:** (Requer aprovaÃ§Ã£o do admin; possui conta Asaas e Cappta)

VocÃªs podem testar o fluxo de cadastro do usuÃ¡rio por este link:

[https://app.tricket.com.br/cadastro](https://app.tricket.com.br/cadastro)

âœ… Login social com Google

âœ… Responsividade (Mobile, Tablet, Desktop)

âœ… Envio de e-mail de confirmaÃ§Ã£o

## **FEEDBACK 1**

### ğŸ—’ï¸**Contexto**

Pedro fez um cadastro como pessoa fÃ­sica e em seguida tentou fazer um segundo cadastro como pessoa jurÃ­dica

### âš ï¸**Erro**

Erro inesperado ao cadastrar

organizaÃ§Ã£o (SQLSTATE: 23502): null

value in column "auth_user_id" of

relation "individual_details" violates not-

null constraint

### ğŸ”**InvestigaÃ§Ã£o**

Identifiquei que o erro aconteceu porque a segunda conta nÃ£o teve o e-mail confirmado

Pedro alegou que no primeiro cadastro apareceu a tela de confirmaÃ§Ã£o de email, porÃ©m no segundo nÃ£o apareceu, foi direto para o cadastro do perfil.

Isso indica que de alguma forma ficou armazenado nos cookies as informaÃ§Ãµes do primeiro cadastro

### ğŸ‘¨â€ğŸ’» **Tratativa**

- Verificar o CPF do usuÃ¡rio no inicio do formulÃ¡rio e nÃ£o permitir avanÃ§ar

- errorMessage: Este CPF jÃ¡ estÃ¡ associado a outra conta de acesso. Por favor, faÃ§a login com sua conta existente para adicionar uma nova empresa, ou entre em contato com o suporte.

- Criar uma pÃ¡gina pÃ¡gina de verificaÃ§Ã£o quando um usuÃ¡rio logado quer acessar a pÃ¡gina de cadastro para criar uma nova conta, nesta pÃ¡gina exibir o perfil logado e a opÃ§Ã£o de Cadastrar Empresa

## âœ… Checklist

- Implementar verificaÃ§Ã£o de CPF
- Incluir nova pÃ¡gina `perfis` em PÃ¡ginas Onboarding

## **FEEDBACK 2**

### ğŸ—’ï¸**Contexto**

**Contexto:** Ao cadastrar uma empresa Pedro sentiu falta do Tipo de empresa (Sociedade AnÃ´nima S.A)

### ğŸ”**InvestigaÃ§Ã£o**

Usamos as opÃ§Ãµes prÃ©-definidas pelo parÃ¢metro `companyType` do asaas:

- MEI
- LIMITED
- ASSOCIATION
- INDIVIDUAL

### ğŸ‘¨â€ğŸ’» **Tratativa**

- Enviar e-mail para o suporte

## âœ… Checklist

- Email Enviado (26/07)